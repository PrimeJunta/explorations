<div class="tt-main">
  <h1 class="tt-headline">Multi-Column Flow Proof of Concept</h1>
  <p class="tt-ingress">
    With thanks to <a href="http://slipsum.com/">Samuel L. Ipsum.</a>
  </p>
  <div class="tt-column tt-leftColumn">
    <div data-dojo-attach-point="leftColumn"></div>
  </div>
  <div class="tt-column tt-centerColumn">
    <div data-dojo-attach-point="centerColumn"></div>
  </div>
  <div class="tt-column tt-rightColumn">
    <div data-dojo-attach-point="rightColumn"></div>
  </div>
  <div class="tt-controls">
    Line-height: <button data-dojo-attach-event="onClick:increaseLineHeight">+</button> <button data-dojo-attach-event="onClick:decreaseLineHeight">-</button>
  </div>
  <div data-dojo-attach-point="htmlContent" class="tt-sourceContent">
    <h1>How does this work?</h1>
    <p>I recurse through the source text, break up all text nodes
      into spans, one per word. Then I inject these nodes into the
      columns, and check after each word if the marginBox of the
      column's content node is still smaller than the contentBox of the
      column. If not, I remove what I just added, construct the wrappers
      it needs, and continue placing in the next column, starting with
      the newly-created node containing those parts of the source data
      that didn't fit.</p>
    <p>The advantage of this approach is that I don't need to know
      anything about the source text nor the target columns since I'm
      not actually measuring anything; I'm checking after placing
      anything whether it worked or not, and stepping back if it didn't.
      The results might not look identical across all browsers, but the
      flow will work.</p>
    <h1>What's Not In</h1>
    <p>This is a poorly-optimized proof of concept, and among other
      things I'm just ignoring attributes; I only do tags. There's
      nothing preventing me from adding these plus all kinds of stuff
      like keeps and breaks.</p>
    <p>
      And now, Samuel L. Ipsum.
    </p>
    <!-- start slipsum code -->
    <h1>We happy?</h1>
    <p>Now that there is the Tec-9, a crappy spray gun from South
      Miami. This gun is advertised as the most popular gun in American
      crime. Do you believe that shit? It actually says that in the
      little book that comes with it: the most popular gun in American
      crime. Like they're actually proud of that shit.</p>

    <h1>Uuummmm, this is a tasty burger!</h1>
    <p>Now that there is the Tec-9, a crappy spray gun from South
      Miami. This gun is advertised as the most popular gun in American
      crime. Do you believe that shit? It actually says that in the
      little book that comes with it: the most popular gun in American
      crime. Like they're actually proud of that shit.</p>

    <h1>No man, I don't eat pork</h1>
    <p>Well, the way they make shows is, they make one show. That
      show's called a pilot. Then they show that show to the people who
      make shows, and on the strength of that one show they decide if
      they're going to make more shows. Some pilots get picked and
      become television programs. Some don't, become nothing. She
      starred in one of the ones that became nothing.</p>

    <h1>Hold on to your butts</h1>

    <p>Do you see any Teletubbies in here? Do you see a slender
      plastic tag clipped to my shirt with my name printed on it? Do you
      see a little Asian child with a blank expression on his face
      sitting outside on a mechanical helicopter that shakes when you
      put quarters in it? No? Well, that's what you see at a toy store.
      And you must think you're in a toy store, because you're here
      shopping for an infant named Jeb.</p>

    <p>Look, just because I don't be givin' no man a foot massage
      don't make it right for Marsellus to throw Antwone into a glass
      motherfuckin' house, fuckin' up the way the nigger talks.
      Motherfucker do that shit to me, he better paralyze my ass, 'cause
      I'll kill the motherfucker, know what I'm sayin'?</p>

    <h1>Are you ready for the truth?</h1>
    <p>Normally, both your asses would be dead as fucking fried
      chicken, but you happen to pull this shit while I'm in a
      transitional period so I don't wanna kill you, I wanna help you.
      But I can't give you this case, it don't belong to me. Besides,
      I've already been through too much shit this morning over this
      case to hand it over to your dumb ass.</p>

    <!-- please do not remove this line -->

    <div style="display: none;">
      <a href="http://slipsum.com">lorem ipsum</a>
    </div>

    <!-- end slipsum code -->

  </div>
</div>